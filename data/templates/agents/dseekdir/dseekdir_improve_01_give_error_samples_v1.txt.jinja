# Task: Improve Instructions for the LLM  

We are optimizing prompts that generate JSON output. Each prompt consists of three key components:  

1) **Instructions**: Guidelines describing how to transform a query into an answer.  
2) **Query**: Encapsulated within `<query></query>` tags.  
3) **JSON Schema**: Defines the expected structure of the output.  

## Provided Data  
You will receive:  

- The original **instructions** to be improved.  
- The **JSON schema** specifying the required output format.  
- One or more **examples** where the original instructions failed, enclosed in `<example>` tags with an `id` attribute for reference. Each example contains:  
  1) A **query** (`<query></query>`)  
  2) The **LLM's prediction** (`<prediction></prediction>`)  
  3) The **gold-standard answer** (`<gold></gold>`)  

## Your Task  

Analyze the original instructions and refine them to ensure the model's predictions align more closely with the gold answers. Specifically:  

1) **Identify Strengths & Weaknesses**  
   - Compare the LLMâ€™s predictions to the gold answers.  
   - Identify where the original instructions succeed or fail in guiding the model.  
2) **Enhance Clarity & Precision**  
   - Ensure semantic accuracy and proper formatting.  
   - Improve specificity while maintaining generality (zero-shot approach).  
   - Avoid ambiguity that could lead to misinterpretations.  
3) **Preserve Zero-Shot Nature**  
   - **Do not copy full examples** from the provided dataset.  
   - **Do not create synthetic full query-answer pairs.**  
   - You may provide examples of **individual elements** (e.g., fragments of a query or answer format).  

## Input Data  

### Instructions to Improve  
```
{{ instructions }}
```

### JSON Schema  
```json  
{{ schema }} 
```

### Examples of Failures
{% for ex in dataset %}
<example id="{{ loop.index }}">
<query>{{ ex.query }}</query>
<prediction>{{ ex.prediction }}</prediction>
<gold>{{ ex.gold }}</gold>
</example>
{% endfor %}
## Final Step: Craft Improved Instructions

Rewrite the instructions to minimize errors and improve alignment with the expected gold outputs. 
Ensure the revised instructions provide clearer guidance while maintaining flexibility.

Start with the <think> tag. The text after closing </think> will contain only the instruction part of the prompt and nothing else. Importantly, do not add any query or query placeholder. Similarly, do not add the JSON schema.